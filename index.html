<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name ="viewport" content="width=device-width, initial-scale=1.0">
	<title>TG Message</title>
	
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	
</head>
<body>

	<div class="container mt-5 pt-5 pb-5">
		<div class="col-md-6 offset-md-3">
			<form id="tg">
			
				<div class="input-group">
				  <span class="input-group-text">Отправить:</span>
				  <textarea class="form-control" name="content" aria-label="Отправить:"></textarea>
				</div>
				
				<div class="input-group">
				  <span class="input-group-text">Кому:</span>
				  <textarea class="form-control" name="for" aria-label="Кому:"></textarea>
				</div>
				
				<button type="submit" class="btn btn-primary mt-4">Отправить</button>
				
			</form>
		</div>
	</div>
	
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	<script> 
		const TOKEN = "5294129831:AAGznzb0AIZOkntU2EPOCA6xye8eisWBaAA";
		const CHAT_ID = "-687943373";
		const URI_API = `https://api.telegram.org/bot${ TOKEN }/sendMessage`;
		
		document.getElementById('tg').addEventListener('submit', function(e) {
			e.preventDefault();

				let message = `<b>Заявка</b> `;
				message += `<b>Отправитель: </b> ${ this.content.value }\n`;
				message += `<b>Почта: </b> ${ this.for.value }\n`;
				
				axios.post(URI_API, {
					chat_id: CHAT_ID,
					parse_mode: 'html',
					text: message
				})
				.then((res) => {
					console.log('Успех');
				})
				.catch((err) => {
					console.warn(err);
				})
				.finally(() => {
					console.log('Конец');
					this.content.value = "";
					this.for.value = "";
				});
				

		})
	</script>

</body>
</html>